generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model usuario {
  id               Int                @id @default(autoincrement()) //PK
  nome             String             @unique
  email            String             @unique
  empresa          String
  senha            String
  cargo            String
  telefone         String
  solicitacao      solicitacao[]
  usuario_e_perfil usuario_e_perfil[]
}

model espaco {
  id               Int           @id @default(autoincrement()) //PK
  nome             String        @unique
  ponto_referencia String
  descricao        String?
  solicitacao      solicitacao[]
}

model solicitacao {
  numero_solicitacao  Int      @id @default(autoincrement()) //PK
  status              Int      @unique
  data_hora           DateTime @unique
  descricao           String
  espaco              String   @unique
  espaco_id           Int
  usuario_id          Int
  usuario_perfil      usuario  @relation(fields: [usuario_id], references: [id]) // [FK],[PK do usuario]
  solicitacao_espaco1 espaco   @relation(fields: [espaco_id], references: [id]) // [FK],[PK do espaco]
}

model perfil {
  id               Int                @id @default(autoincrement()) //PK
  nome             String             @unique
  usuario_e_perfil usuario_e_perfil[]
}

model usuario_e_perfil {
  usuario_id                     Int     @id @default(autoincrement()) //PK
  perfil_id                      Int     @unique
  fk_usuario_has_perfil_usuario1 usuario @relation(fields: [usuario_id], references: [id]) // [FK],[PK do usuario]
  fk_usuario_has_perfil_perfil1  perfil  @relation(fields: [perfil_id], references: [id]) // [FK],[PK do perfil]
}
